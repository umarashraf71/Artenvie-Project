<div class="container">
  <div class="adminPanel">
    <div class="row mb-4" style="margin-top: 110px">
      <div
        class="col-md-6"
        style="
          margin: 0 auto !important;
          padding: 20px 45px 40px 45px;
          border: 1px solid rgb(220, 220, 220);
          background: rgb(243, 243, 243);
          box-shadow: 0 0px 0px 0 rgba(0, 0, 0, 0.2),
            0 1px 7px 0 rgba(0, 0, 0, 0.19);
        "
      >
        <h2 class="mt-3 mb-4 text-info">Update Category</h2>

        <hr
          style="
            background-color: #bad0d3 !important;
            height: 0.3px;
            border: none !important;
            width: 100%;
            margin: 20px 0px 30px 0px;
          "
        />
        <div>
          <form
            action="/admin/categories/edit/<%= category._id %>?_method=PUT"
            method="post"
          >
            <div class="form-group">
              <label for="title">Edit Category:</label>
              <input
                name="name"
                type="text"
                class="form-control"
                id="title"
                value="<%= category.name %>"
                placeholder="Enter category name"
                required
              />
            </div>

            <button
              type="submit"
              class="btn btn-sm btn-info mt-2 mb-3 edit-btn"
            >
              Update Category
            </button>
          </form>
        </div>

        <script>
          const btn = document.querySelector('.edit-btn');
          const form = document.forms[0];

          form.addEventListener(
            'submit',
            (e) => {
              e.preventDefault();
              btn.setAttribute('disabled', true);

              spinner.style.display = 'flex';
              form.submit();

              setTimeout(() => {
                spinner.style.display = 'none';
              }, 3000);
            },
            false
          );
        </script>
      </div>
    </div>
  </div>
</div>
